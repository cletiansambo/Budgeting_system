{% extends "base.html" %}

{% block title %}Budget Overview - Chuma Planner{% endblock %}

{% block content %}
<h2>Budget Overview</h2>
<p><strong>Monthly Income: MWK{{ "%.2f"|format(budget.income) }}</strong></p>

<div style="max-width: 600px; margin: 40px auto; text-align: center;">
    <img src="data:image/png;base64,{{ chart_image }}" alt="Budget Pie Chart" style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);">
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0;">
    <div style="display: flex; align-items: center; padding: 20px; background: #f7fafc; border-radius: 10px; border-left: 5px solid #ff6b6b;">
        <div style="width: 20px; height: 20px; border-radius: 50%; background: #ff6b6b; margin-right: 15px;"></div>
        <div>
            <div style="font-weight: 600; color: #2d3748; font-size: 1.1rem;">Needs</div>
            <div style="font-weight: 700; color: #667eea; font-size: 1.2rem;">MWK{{ "%.2f"|format(budget.needs.amount) }}</div>
            <div style="color: #718096; font-size: 0.9rem;">{{ "%.1f"|format(budget.needs.percent) }}%</div>
        </div>
    </div>
    
    <div style="display: flex; align-items: center; padding: 20px; background: #f7fafc; border-radius: 10px; border-left: 5px solid #4ecdc4;">
        <div style="width: 20px; height: 20px; border-radius: 50%; background: #4ecdc4; margin-right: 15px;"></div>
        <div>
            <div style="font-weight: 600; color: #2d3748; font-size: 1.1rem;">Wants</div>
            <div style="font-weight: 700; color: #667eea; font-size: 1.2rem;">MWK{{ "%.2f"|format(budget.wants.amount) }}</div>
            <div style="color: #718096; font-size: 0.9rem;">{{ "%.1f"|format(budget.wants.percent) }}%</div>
        </div>
    </div>
    
    <div style="display: flex; align-items: center; padding: 20px; background: #f7fafc; border-radius: 10px; border-left: 5px solid #45b7d1;">
        <div style="width: 20px; height: 20px; border-radius: 50%; background: #45b7d1; margin-right: 15px;"></div>
        <div>
            <div style="font-weight: 600; color: #2d3748; font-size: 1.1rem;">Savings</div>
            <div style="font-weight: 700; color: #667eea; font-size: 1.2rem;">MWK{{ "%.2f"|format(budget.savings.amount) }}</div>
            <div style="color: #718096; font-size: 0.9rem;">{{ "%.1f"|format(budget.savings.percent) }}%</div>
        </div>
    </div>
</div>

<div>
    <a href="{{ url_for('allocation') }}" class="btn btn-secondary">Edit Budget</a>
    <a href="{{ url_for('reset') }}" class="btn">Start Over</a>
</div>

{% endblock %}
